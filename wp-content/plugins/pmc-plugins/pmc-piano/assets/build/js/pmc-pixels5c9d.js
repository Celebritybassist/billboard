var pmcPiano;(()=>{var t={27:t=>{var e=window.gtag,a=window.fbq,n={PIANO_EVENT_CHECKOUT_START:"startCheckout",PIANO_EVENT_CHECKOUT_COMPLETE:"checkoutComplete",PIANO_EVENT_CHECKOUT_CUSTOM:"checkoutCustomEvent",PIANO_EVENT_PAYMENT_SUBMIT:"submitPayment",PIANO_EVENT_LOGIN_SUCCESS:"loginSuccess",PIANO_EVENT_EXPERIENCE_EXECUTE:"experienceExecute",treasureData:void 0,checkTp:function(){window.tp&&window.tp.main&&window.tp.pianoId?this.loadTp.apply(n):setTimeout(this.checkTp.bind(n),500)},ga:{startNewCheckout:function(){try{console.log("PMC Piano tp.push [GA]: [addHandler=".concat(n.PIANO_EVENT_CHECKOUT_START,"]")),e("event","ecommerce-signup-start",{event_category:"ecommerce"})}catch(t){}},loginSuccess:function(t){if(!0===t.registration){console.log("PMC Piano tp.push [GA]: [addHandler=".concat(n.PIANO_EVENT_LOGIN_SUCCESS,"]"));try{e("event","ecommerce-registration-complete",{event_label:"Registration Complete",event_category:"ecommerce"})}catch(t){}}},paymentSubmit:function(){try{console.log("PMC Piano tp.push [GA]: [addHandler=".concat(n.PIANO_EVENT_PAYMENT_SUBMIT,"]")),e("event","ecommerce-payment-submit",{event_label:"Payment Submitted",event_category:"ecommerce"})}catch(t){}},checkoutComplete:function(t){try{var a=window.pmcPianoData.trackingPixels&&window.pmcPianoData.trackingPixels.ga&&window.pmcPianoData.trackingPixels.ga.conversion_id;if(!a)return;console.log("PMC Piano tp.push [GA]: [addHandler=".concat(n.PIANO_EVENT_CHECKOUT_COMPLETE,", gaConversionId=").concat(a,"]"),t),e("event","subscriptions-conversion",{send_to:a,value:t.chargeAmount,currency:t.chargeCurrency,transaction_id:""})}catch(t){}}},facebook:{startNewCheckout:function(){try{var t=window.pmcPianoData.trackingPixels&&window.pmcPianoData.trackingPixels.facebook&&window.pmcPianoData.trackingPixels.facebook.content_name;console.log("PMC Piano tp.push [facebook]: [addHandler=".concat(n.PIANO_EVENT_CHECKOUT_START,"]")),a("track","InitiateCheckout",{content_ids:["subscription"],content_name:t||"Piano Subscription",content_type:"product"})}catch(t){}},checkoutComplete:function(t){try{console.log("PMC Piano tp.push [Facebook]: [addHandler=".concat(n.PIANO_EVENT_CHECKOUT_COMPLETE,"]"),t),a("track","Purchase",{content_ids:["subscription"],content_type:"product",currency:t.chargeCurrency,value:t.chargeAmount})}catch(t){}},experience:function(){document.querySelector(".pmc-paywall.a-article-cropped")&&void 0!==a&&a.version&&a("track","PaywallHit")}},linkedIn:{startNewCheckout:function(){var t=window.pmcPianoData.trackingPixels&&window.pmcPianoData.trackingPixels.linkedin&&window.pmcPianoData.trackingPixels.linkedin.pixel_checkout_start;t&&t.startsWith("<img")&&(console.log("PMC Piano tp.push [LinkedIn]: [addHandler=".concat(n.PIANO_EVENT_CHECKOUT_START,"]")),document.body.insertAdjacentHTML("beforeend",t))},checkoutComplete:function(t){console.log("PMC Piano tp.push [LinkedIn]: [addHandler=".concat(n.PIANO_EVENT_CHECKOUT_COMPLETE,"]"),t);var e=window.pmcPianoData.trackingPixels&&window.pmcPianoData.trackingPixels.linkedin&&window.pmcPianoData.trackingPixels.linkedin.pixel_checkout_complete;e&&e.startsWith("<img")&&document.body.insertAdjacentHTML("beforeend",e)}},digioh:{startNewCheckout:function(){try{if(!window.pmcPianoData.trackingPixels||!window.pmcPianoData.trackingPixels.digioh)return;var t=window.pmcPianoData.trackingPixels.digioh.pixel_checkout_start;console.log("PMC Piano tp.push [digioh]: [addHandler=".concat(n.PIANO_EVENT_CHECKOUT_START,"]"));for(var e=document.getElementsByTagName("script"),a="https://www.lightboxcdn.com/vendor/".concat(t,"/lightbox_inline.js"),o=!1,i=0;i<e.length;i++)if(e[i].src===a){o=!0;break}if(!1===o){var c=document.createElement("script");c.type="text/javascript",c.src=a,c.async=!0;var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(c,r)}}catch(t){}}},treasuredata:{startNewCheckout:function(){try{console.log("PMC Piano tp.push [TreasureData]: [addHandler=".concat(n.PIANO_EVENT_CHECKOUT_START,"]")),window.blogherads.treasureDataReady().then((function(t){t.treasureInstance.trackEvent("subscriptions_signup_start",{event_category:"subscriptions"})}))}catch(t){}},loginSuccess:function(t){if(!0===t.registration){console.log("PMC Piano tp.push [TreasureData]: [addHandler=".concat(n.PIANO_EVENT_LOGIN_SUCCESS,"]"));try{window.blogherads.treasureDataReady().then((function(t){t.treasureInstance.trackEvent("subscriptions_registration_complete",{event_label:"Registration Complete",event_category:"subscriptions"})}))}catch(t){}}},paymentSubmit:function(){try{console.log("PMC Piano tp.push [TreasureData]: [addHandler=".concat(n.PIANO_EVENT_PAYMENT_SUBMIT,"]")),window.blogherads.treasureDataReady().then((function(t){t.treasureInstance.trackEvent("subscriptions_payment_submit",{event_label:"Payment Submitted",event_category:"subscriptions"})}))}catch(t){}},checkoutComplete:function(t){try{var e=window.pmcPianoData.trackingPixels&&window.pmcPianoData.trackingPixels.treasuredata&&window.pmcPianoData.trackingPixels.treasuredata.conversion_id;if(!e)return;console.log("PMC Piano tp.push [TreasureData]: [addHandler=".concat(n.PIANO_EVENT_CHECKOUT_COMPLETE,", TreasureDataConversionId=").concat(e,"]"),t),window.blogherads.treasureDataReady().then((function(a){a.treasureInstance.trackEvent("subscriptions_conversion",{send_to:e,value:t.chargeAmount,currency:t.chargeCurrency,transaction_id:""})}))}catch(t){}}},loadTp:function(){window.tp.push(["addHandler",this.PIANO_EVENT_CHECKOUT_START,this.ga.startNewCheckout]),window.tp.push(["addHandler",this.PIANO_EVENT_LOGIN_SUCCESS,this.ga.loginSuccess]),window.tp.push(["addHandler",this.PIANO_EVENT_PAYMENT_SUBMIT,this.ga.paymentSubmit]),window.tp.push(["addHandler",this.PIANO_EVENT_CHECKOUT_COMPLETE,this.ga.checkoutComplete]),window.tp.push(["addHandler",this.PIANO_EVENT_CHECKOUT_START,this.facebook.startNewCheckout]),window.tp.push(["addHandler",this.PIANO_EVENT_CHECKOUT_COMPLETE,this.facebook.checkoutComplete]),window.tp.push(["addHandler",this.PIANO_EVENT_EXPERIENCE_EXECUTE,this.facebook.experience]),window.tp.push(["addHandler",this.PIANO_EVENT_CHECKOUT_START,this.linkedIn.startNewCheckout]),window.tp.push(["addHandler",this.PIANO_EVENT_CHECKOUT_COMPLETE,this.linkedIn.checkoutComplete]),window.tp.push(["addHandler",this.PIANO_EVENT_CHECKOUT_START,this.digioh.startNewCheckout]),window.tp.push(["addHandler",this.PIANO_EVENT_CHECKOUT_START,this.treasuredata.startNewCheckout]),window.tp.push(["addHandler",this.PIANO_EVENT_LOGIN_SUCCESS,this.treasuredata.loginSuccess]),window.tp.push(["addHandler",this.PIANO_EVENT_PAYMENT_SUBMIT,this.treasuredata.paymentSubmit]),window.tp.push(["addHandler",this.PIANO_EVENT_CHECKOUT_COMPLETE,this.treasuredata.checkoutComplete])}};n.checkTp(),t.exports=n}},e={},a=function a(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,a),i.exports}(27);(pmcPiano=void 0===pmcPiano?{}:pmcPiano).pixels=a})();